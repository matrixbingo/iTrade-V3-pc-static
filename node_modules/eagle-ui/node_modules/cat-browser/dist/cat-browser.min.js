!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=o(2),i=n(r);t.CatBrowser=i["default"],"undefined"==typeof CatBrowser&&(window.CatBrowser=t.CatBrowser)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=o(3),s=n(i),a=o(5),u=n(a),c=o(6),p=n(c),f=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),this.opts=this.extendObj(p["default"],t),this.isOnlyDp=this.opts.isOnlyDp,this.cookie=new s["default"],this.userAgent=new u["default"],this.isCat=!0,this.isOnlyDp&&this.isDpEnv(),this.isCat&&this.initHanlder()}return e.prototype.initHanlder=function(){var e=this.isFirstVisit();e&&this.getUserInfo()},e.prototype.isFirstVisit=function(){var e=this.cookie,t=this.opts.cookieName,o=this.opts.cookieValue;return e.get(t)!=o&&(e.set(t,o,{expires:this.opts.expiresTime}),!0)},e.prototype.getData=function(e){var t={v:1,t:+new Date,msg:"browserUseRate",n:this.opts.moduleName,l:"INFO",a:e,data:this.getHost()};return t},e.prototype.getUserInfo=function(){var e=this.userAgent.getInfo(),t=this.getData(e);this.sendMsg(this.format(t))},e.prototype.sendMsg=function(e){var t=this.opts.url,o=new Image(1,1);o.src=t+"?"+e},e.prototype.format=function(e){var t=[];if(e&&"object"==typeof e)for(var o in e)t.push(o+"="+e[o]);return t.join("&")},e.prototype.extendObj=function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},e.prototype.getHost=function(){var e=location.href||"";return e},e.prototype.isDpEnv=function(){var e=this.dpEnv(),t=location.hostname;this.isCat=t.indexOf(e)>-1},e.prototype.dpEnv=function(){var e=["e.51ping.com","ppe.e.dianping.com","e.dianping.com","apollo.51ping.com","ppea.dper.com","a.dper.com"];return e.join("")},e}();t["default"]=f,e.exports=t["default"]},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=o(4),s=n(i),a=function(){function e(){r(this,e)}return e.prototype.set=function(e,t,o){s["default"].set(e,t,o)},e.prototype.get=function(e){return s["default"].get(e)},e.prototype.remove=function(e){s["default"].remove(e)},e}();t["default"]=a,e.exports=t["default"]},function(e,t,o){var n,r;!function(i){n=i,r="function"==typeof n?n.call(t,o,t,e):n,!(void 0!==r&&(e.exports=r))}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var o=arguments[e];for(var n in o)t[n]=o[n]}return t}function t(o){function n(t,r,i){var s;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},n.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}try{s=JSON.stringify(r),/^[\{\[]/.test(s)&&(r=s)}catch(u){}return r=o.write?o.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",r,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}t||(s={});for(var c=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,f=0;f<c.length;f++){var d=c[f].split("="),l=d.slice(1).join("=");'"'===l.charAt(0)&&(l=l.slice(1,-1));try{var h=d[0].replace(p,decodeURIComponent);if(l=o.read?o.read(l,h):o(l,h)||l.replace(p,decodeURIComponent),this.json)try{l=JSON.parse(l)}catch(u){}if(t===h){s=l;break}t||(s[h]=l)}catch(u){}}return s}}return n.set=n,n.get=function(e){return n(e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,o){n(t,"",e(o,{expires:-1}))},n.withConverter=t,n}return t(function(){})})},function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=function(){function e(){o(this,e)}return e.prototype.getInfo=function(){var e=this.getBrowserVersion();return e},e.prototype.getBrowserVersion=function(){var e=this.getBrowserInfo()+"";return e},e.prototype.getBrowserInfo=function(){var e=navigator.userAgent.toLowerCase(),t=/msie [\d.]+;/gi,o=/\S+\s\S+$/gi;return e.indexOf("msie")>0?e.match(t):e.match(o)},e}();t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0;var o={moduleName:"cat-browser",expiresTime:1,dpId:"",url:"//221.181.67.144/web-broker-service/api/js",cookieName:"catBrowserName",cookieValue:"catBrowserValue",isOnlyDp:!1};t["default"]=o,e.exports=t["default"]}])});