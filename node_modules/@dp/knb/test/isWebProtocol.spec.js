var isWebProtocol = require('../compiled/common/web-protocol');
var assert = require('assert');


var webProtocols = [
    'http://meituan.com',
    'https://meituan.com',
    '//knb.i.meituan.com'
];

var localProtocols = [
    'imeituan://www.meituan.com/web?url=' + encodeURIComponent('http://meituan.com'),
    'dianping://web?url=' + encodeURIComponent('https://dianping.com'),
];

var others = [
    'http.meituan.com',
    'https.meituan.com'
]


describe('isWebProtocol', function () {
    webProtocols.forEach(function (protocol, index) {
        it('should pass web protocol test: #' + index, function () {
            assert.ok(isWebProtocol(protocol));
        });
    });

    localProtocols.forEach(function (protocol, index) {
       it('should pass local protocol test: #' + index, function () {
            assert.equal(isWebProtocol(protocol), false);
       });
    });

    others.forEach(function (protocol, index) {
       it('should pass other protocol test: #' + index, function () {
            assert.equal(isWebProtocol(protocol), false);
       });
    });
});


