var KNB = require('../bundle');
var assert = require('assert');

//ready test
describe('test ready function', function () {
    it('should call one time when ready', function (done) {
        KNB.ready(function () {
            assert(true);
            done();
        });
    });

    it('should call multi times when ready', function (done) {
        var sentinel = 2;

        function readyFn(){
            assert(true);
            sentinel--;
            if (sentinel === 0) done();
        }

        KNB.ready(readyFn);
        KNB.ready(readyFn);
    });
});
