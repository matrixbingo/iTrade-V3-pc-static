import hbnb from '../../index';

hbnb._debug.enable('hbnb:*');

var log = function() {
    var msg = JSON.stringify(arguments);
    console.log(msg);
    alert(msg);
};


export
default [
    // core
    {
        name: 'core / os version',
        action: function() {
            hbnb.core.OSVersion().then(log);
        }
    },
    {
        name: 'core / support apis',
        action: function() {
            hbnb.core.supportApis(['magpie://ui/alert']).then(log);
        }
    },
    {
        name: 'core / hbnb version',
        action: function() {
            hbnb.core.HBNBVersion().then(log);
        }
    },

    // account
    {
        name: 'user / get user',
        action: function() {
            hbnb.account.getUser().then(log, log);
        }
    },
    {
        name: 'user / login',
        action: function() {
            hbnb.account.login().then(log);
        }
    },
    {
        name: 'user / mobile login',
        action: function() {
            log('之后搞'); // TODO
        }
    },
    {
        name: 'user send mobile login code',
        action: function() {
            log('之后搞'); // TODO
        }
    },

    // env
    {
        name: 'env / get page env',
        action: function() {
            hbnb.env.getPageEnv().then(log);
        }
    },

    // log
    {
        name: 'log / mge',
        action: function() {
            hbnb.log.mge('页面A', '点击事件B');
        }
    },

    // network
    {
        name: 'network / request',
        action: function() {
            hbnb.network.request({
                url: 'https://www.google.com/',
                method: 'GET',
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                },
                body: '',
                followRedirect: true,
                maxRedirects: 10,
                timeout: 5000
            }).then(log, log);
        }
    },

    // pay
    {
        name: 'pay / get fingerprint',
        action: function() {
            hbnb.pay.getFingerprint().then(log);
        }
    },
    {
        name: 'pay / payment',
        action: function() {
            log('没订单，之后搞');
        }
    },

    // position
    {
        name: 'position / city',
        action: function() {
            hbnb.position.getCity().then(log);
        }
    },

    // storage
    {
        name: 'storage / remove item',
        action: function() {
            hbnb.storage.removeItem('key');
        }
    },
    {
        name: 'storage / set item',
        action: function() {
            hbnb.storage.setItem('key', 'value');
        }
    },
    {
        name: 'storage / get item',
        action: function() {
            hbnb.storage.getItem('key').then(log);
        }
    },

    // third
    {
        name: 'third / install',
        action: function() {
            hbnb.thirdApps.installed('alipay').then(log);
        }
    },

    // webview
    {
        name: 'webview / back',
        action: function() {
            hbnb.webview.back();
        }
    },
    {
        name: 'webview / close',
        action: function() {
            hbnb.webview.close();
        }
    },
    {
        name: 'webview / close all',
        action: function() {
            hbnb.webview.closeAll([]);
        }
    },
    {
        name: 'webview / dismiss',
        action: function() {
            hbnb.webview.dismiss();
        }
    },
    {
        name: 'webview / modal',
        action: function() {
            hbnb.webview.modal('http://i.meituan.com');
        }
    },
    {
        name: 'webview / open',
        action: function() {
            hbnb.webview.open(window.location.href);
        }
    },
    {
        name: 'webview / set navbar back',
        action: function() {
            hbnb.webview.setBackAction(function() {
                log('点击了后退');
            });
        }
    },
    {
        name: 'webview / set complex title',
        action: function() {
            hbnb.webview.setComplexTitle({
                type: 'two-row',
                title: 'title',
                subTitle: 'subTitle'
            });
        }
    },
    {
        name: 'webview / set title',
        action: function() {
            hbnb.webview.setTitle(String(Date.now()));
        }
    },
    {
        name: 'webview / set menus',
        action: function() {
            hbnb.webview.setMenus([{
                type: 'text',
                text: '确定',
                color: '#aaccee',
                callback: function() { console.log('clicked'); return false; }
            }, {
                type: 'icon',
                icon: 'url',
                callback: function() { console.log('clicked'); return false; }
            }]);
        }
    },

    // ui
    {
        name: 'ui / disable auto lock',
        action: function() {
            hbnb.ui.autoLock(true);
        }
    },
    {
        name: 'ui / alert',
        action: function() {
            hbnb.ui.alert('message', [{
                label: '确定',
                callback: function() {
                    console.log('clicked');
                }
            }]);
        }
    },
    {
        name: 'ui / confirm',
        action: function() {
            hbnb.ui.confirm('message', {
                label: '确定',
                callback: function() {
                    console.log('clicked');
                }
            }, {
                label: '取消',
                callback: function() {
                    console.log('clicked');
                }
            });
        }
    },
    {
        name: 'ui / toast',
        action: function() {
            hbnb.ui.toast('message');
        }
    },
    {
        name: 'ui / single select',
        action: function() {
            hbnb.ui.singleSelect([{
                label: 'all',
                active: true,
                callback: function() {
                    console.log('clicked');
                }
            }, {
                label: 'option 1',
                active: false,
                callback: function() {
                    console.log('clicked');
                }
            }, {
                label: 'option 2',
                active: false,
                callback: function() {
                    console.log('clicked');
                }
            }]);
        }
    },
    {
        name: 'ui / select date',
        action: function() {
            log('我忘记参数什么样的了');
        }
    },
    {
        name: 'ui / options',
        action: function() {
            hbnb.ui.options([{
                label: 'option1',
                callback: function() {
                    console.log('clicked');
                }
            }, {
                label: 'option2',
                callback: function() {
                    console.log('clicked');
                }
            }], {
                label: 'cancel',
                callback: function() {
                    console.log('clicked');
                }
            });
        }
    },
    {
        name: 'ui / loading',
        action: function() {
            hbnb.ui.loadingStart();
            setTimeout(function() {
                hbnb.ui.loadingStop();
            }, 2000);
        }
    },

    // flight
    {
        name: 'flight / gotoAppHomepage',
        action: function() {
            hbnb.flight.gotoAppHomepage();
        }
    },
    {
        name: 'flight / get filter',
        action: function() {
            log('忘记参数了');
        }
    },
    {
        name: 'filter / select city',
        action: function() {
            hbnb.flight.selectCity().then(log);
        }
    },
    {
        name: 'filter / select date',
        action: function() {
            log('忘记参数了');
        }
    },
    {
        name: 'filter / goto order detail',
        action: function() {
            hbnb.flight.gotoOrderDetail(
                'http://i.meituan.com/hotel/',
                'http://i.meituan.com/'
            );
        }
    },


    // tower
    {
        name: 'tower / get uuid',
        action: function() {
            hbnb.tower.getUuid().then(log);
        }
    },

    {
        name: 'tower / comment success callback',
        action: function() {
            hbnb.tower.commentCallback().then(log);
        }
    },

    {
        name: 'tower / comment open editor',
        action: function() {
            hbnb.tower.comment({
                placeholder: '测试placeholder',
                content: 'ok test',
                limit: 50,
            })
            .then(log)
            .catch(log);
        }
    },

    {
        name: 'tower / user check nickname',
        action: function() {
            hbnb.tower.checkNickname()
            .then(log)
            .catch(log);
        }
    },

    {
        name: 'share / activeNavButton',
        action: function() {
            hbnb.share.activeNavButton(['sinaWeibo', 'qzone', 'weixin'], {
                'content' : '分享内容',
                'content_weixin': '微信单独内容',
                'detailURL': 'http://i.meituan.com/',
                'imageURL': 'http://i.meituan.com/',
                'title': '分享标题'
            })
            .then(log)
            .catch(log);
        }
    },

    {
        name: 'share / callLocal',
        action: function() {
            hbnb.share.callLocal(['sinaWeibo', 'qzone', 'weixin'], {
                'content' : '分享内容',
                'content_weixin': '微信单独内容',
                'detailURL': 'http://i.meituan.com/',
                'imageURL': 'http://i.meituan.com/',
                'title': '分享标题'
            })
            .then(log)
            .catch(log);
        }
    },

    {
        name: 'share / disableNavButton',
        action: function() {
            hbnb.share.disableNavButton()
            .then(log)
            .catch(log);
        }
    },

    {
        name: 'tower / share',
        action: function() {
            hbnb.tower.shareConfig('weixin', {
                title: '《爸爸去哪儿3》旅行地',
                desc: '爸爸去哪儿3的拍摄地和前两季完全不同，每一站都是令人耳目一新的自然人文风光，以村庄为主题。拍摄地大多是一些非热门的旅游景区，而且比较有特色，节目播出后，每个拍摄地都将成为旅游大热门，那就趁热走一遭吧！',
                imgUrl: 'http://p0.meituan.net/deal/2011ebf418885b6dcb43ad1cf4ffbfd0273316.png',
                link: 'http://i.meituan.com/lvxing/topic/57640',
            })
            .then(log)
            .catch(log);
        }
    }

];
